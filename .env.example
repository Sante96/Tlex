# ============================================
# TLEX - Telegram Media Server Configuration
# ============================================

# ============================================
# Environment
# ============================================
ENVIRONMENT=dev  # dev | test | prod

# ============================================
# Telegram API Credentials
# Get these from https://my.telegram.org/apps
# ============================================
API_ID=your_telegram_api_id
API_HASH=your_telegram_api_hash

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
POSTGRES_USER=tlex
POSTGRES_PASSWORD=tlex_secret
POSTGRES_DB=tlex_db
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Async Database URL for SQLAlchemy
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0

# ============================================
# Security
# ============================================
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET=your_super_secret_jwt_key_change_in_production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=10080  # 7 days

# ============================================
# TMDB API (for metadata fetching)
# Get from https://www.themoviedb.org/settings/api
# ============================================
TMDB_API_KEY=your_tmdb_api_key
TMDB_LANGUAGE=it-IT  # Preferenza lingua metadata

# ============================================
# pgAdmin Configuration
# ============================================
PGADMIN_EMAIL=admin@tlex.local
PGADMIN_PASSWORD=admin

# ============================================
# Application Settings
# ============================================
APP_HOST=0.0.0.0
APP_PORT=8000
DEBUG=true

# Worker Pool Settings
MAX_WORKERS_STANDARD=1
MAX_WORKERS_PREMIUM=10
CHUNK_SIZE_BYTES=1048576  # 1MB chunks for streaming

# ============================================
# Scanner Settings
# ============================================
# Comma-separated Telegram channel IDs to scan
SCANNER_CHANNEL_IDS=-1001234567890,-1009876543210
# Video file extensions to detect
SCANNER_VIDEO_EXTENSIONS=.mkv,.mp4,.avi,.webm
# Split file extensions (for files >4GB)
SCANNER_SPLIT_EXTENSIONS=.001,.002,.003
